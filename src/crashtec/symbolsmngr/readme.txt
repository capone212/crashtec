TODO:
- support multiple agents for single table
- write unit-test's (!!!!!!)
- polish implementation, rewrite each class
	1) divide implementation to ortogonal step's
	2) use implementation proxy and move details to separate class